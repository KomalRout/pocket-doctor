package com.example.tanisha.pocketdoctor; import android.content.Context; import android.content.Intent; import android.database.Cursor; import android.database.sqlite.SQLiteDatabase; import android.os.Bundle;
import android.support.v7.app.AppCompatActivity; import android.view.View; import android.widget.EditText; import android.widget.Toast; public class ForgotPassword extends AppCompatActivity { SQLiteDatabase db; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_forgot_password); } public void GO(View view) { String email = ((EditText) findViewById(R.id.forgotpasswordemail)).getText().toString(); db = openOrCreateDatabase("pocketdoctor.db", Context.MODE_PRIVATE, null); Cursor cursor = db.rawQuery("SELECT EMAIL FROM USER", null); int flag = 0; if (cursor.moveToFirst()) { do { if (cursor.getString(0).equals(email)) { flag = 1; } } while (cursor.moveToNext() && flag == 0); } if (flag == 1) { Intent intent = new Intent(this, SecurityQuestion.class); Bundle b = new Bundle(); b.putString("forgotemail", email); intent.putExtras(b); startActivity(intent); } else { Toast.makeText(getApplicationContext(), "Wrong Email!!", Toast.LENGTH_LONG).show(); } } }
